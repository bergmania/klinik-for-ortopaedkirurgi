---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { i18n, type Treatment } from '../../i18n';

const treatments = i18n.treatments;
const categories = treatments.categories;
---

<BaseLayout title={treatments.title} description={treatments.intro}>
  <section class="page-hero">
    <div class="container">
      <h1>{treatments.title}</h1>
      <p>{treatments.intro}</p>
    </div>
  </section>

  <section class="content">
    <div class="container">
      <div class="categories-grid">
        <!-- Knæ -->
        <div class="category-card">
          <div class="category-header">
            <div class="category-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <circle cx="12" cy="8" r="3"></circle>
                <path d="M12 11v6"></path>
                <path d="M9 21l3-4 3 4"></path>
              </svg>
            </div>
            <h2>{categories.knee.title}</h2>
          </div>
          <p class="category-description">{categories.knee.description}</p>
          <ul class="subcategory-list">
            {Object.values(categories.knee.treatments).map((treatment: Treatment) => (
              <li>
                <a href={`/behandlinger/${categories.knee.slug}/${treatment.slug}`}>
                  {treatment.title}
                  <span class="arrow">→</span>
                </a>
              </li>
            ))}
          </ul>
        </div>

        <!-- Fod -->
        <div class="category-card">
          <div class="category-header">
            <div class="category-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M4 16c0 2.21 1.79 4 4 4h8c2.21 0 4-1.79 4-4v-4c0-2.21-1.79-4-4-4H8c-2.21 0-4 1.79-4 4v4z"></path>
                <circle cx="8" cy="10" r="1"></circle>
                <circle cx="12" cy="9" r="1"></circle>
                <circle cx="16" cy="10" r="1"></circle>
              </svg>
            </div>
            <h2>{categories.foot.title}</h2>
          </div>
          <p class="category-description">{categories.foot.description}</p>
          <ul class="subcategory-list">
            {Object.values(categories.foot.treatments).map((treatment: Treatment) => (
              <li>
                <a href={`/behandlinger/${categories.foot.slug}/${treatment.slug}`}>
                  {treatment.title}
                  <span class="arrow">→</span>
                </a>
              </li>
            ))}
          </ul>
        </div>

        <!-- Hånd -->
        <div class="category-card">
          <div class="category-header">
            <div class="category-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M18 11V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0"></path>
                <path d="M14 10V4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v6"></path>
                <path d="M10 10.5V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v8"></path>
                <path d="M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.21 0-4.21-.9-5.66-2.34"></path>
                <path d="M6 14a2 2 0 1 0-4 0"></path>
              </svg>
            </div>
            <h2>{categories.hand.title}</h2>
          </div>
          <p class="category-description">{categories.hand.description}</p>
          <ul class="subcategory-list">
            {Object.values(categories.hand.treatments).map((treatment: Treatment) => (
              <li>
                <a href={`/behandlinger/${categories.hand.slug}/${treatment.slug}`}>
                  {treatment.title}
                  <span class="arrow">→</span>
                </a>
              </li>
            ))}
          </ul>
        </div>
      </div>

      <!-- Other treatments -->
      <h2 class="section-title">{i18n.ui.otherTreatments}</h2>
      <div class="other-treatments-grid">
        <a href={`/behandlinger/${categories.varicoseVeins.slug}`} class="other-card card card-link">
          <div class="other-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M12 2v20"></path>
              <path d="M8 6c0 4 4 6 4 10s-4 6-4 10"></path>
              <path d="M16 6c0 4-4 6-4 10s4 6 4 10"></path>
            </svg>
          </div>
          <div class="other-content">
            <h3>{categories.varicoseVeins.title}</h3>
            <p>{categories.varicoseVeins.description}</p>
          </div>
        </a>

        <a href={`/behandlinger/${categories.arthritis.slug}`} class="other-card card card-link">
          <div class="other-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <circle cx="12" cy="12" r="3"></circle>
              <path d="M12 2v4"></path>
              <path d="M12 18v4"></path>
              <path d="m4.93 4.93 2.83 2.83"></path>
              <path d="m16.24 16.24 2.83 2.83"></path>
              <path d="M2 12h4"></path>
              <path d="M18 12h4"></path>
              <path d="m4.93 19.07 2.83-2.83"></path>
              <path d="m16.24 7.76 2.83-2.83"></path>
            </svg>
          </div>
          <div class="other-content">
            <h3>{categories.arthritis.title}</h3>
            <p>{categories.arthritis.description}</p>
          </div>
        </a>

        <a href={`/behandlinger/${categories.arthrosamid.slug}`} class="other-card card card-link">
          <div class="other-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="m14.5 2-8.5 8.5c-.83.83-.83 2.17 0 3l4.5 4.5c.83.83 2.17.83 3 0l8.5-8.5v-7.5h-7.5z"></path>
              <path d="m20 2-8 8"></path>
            </svg>
          </div>
          <div class="other-content">
            <h3>{categories.arthrosamid.title}</h3>
            <p>{categories.arthrosamid.description}</p>
            <span class="badge badge-primary">{i18n.ui.newTreatment}</span>
          </div>
        </a>
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  .page-hero {
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
    color: var(--white);
    padding: 4rem 0;
  }

  .page-hero h1 {
    color: var(--white);
    margin-bottom: 1rem;
  }

  .page-hero p {
    opacity: 0.9;
    max-width: 600px;
    margin: 0;
  }

  .content {
    padding: 4rem 0;
  }

  .categories-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 2rem;
    margin-bottom: 4rem;
  }

  .category-card {
    background: var(--white);
    border-radius: 16px;
    box-shadow: var(--box-shadow);
    padding: 2rem;
  }

  .category-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
  }

  .category-icon {
    width: 56px;
    height: 56px;
    border-radius: 14px;
    background: linear-gradient(135deg, rgba(26, 95, 122, 0.1) 0%, rgba(26, 95, 122, 0.05) 100%);
    color: var(--primary);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .category-card h2 {
    font-size: 1.5rem;
    margin: 0;
  }

  .category-description {
    color: rgb(var(--gray));
    font-size: 0.95rem;
    margin-bottom: 1.5rem;
  }

  .subcategory-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .subcategory-list li {
    margin: 0;
  }

  .subcategory-list a {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.75rem 0;
    color: rgb(var(--gray-dark));
    text-decoration: none;
    border-bottom: 1px solid rgba(var(--gray), 0.1);
    transition: all 0.2s ease;
  }

  .subcategory-list li:last-child a {
    border-bottom: none;
  }

  .subcategory-list a:hover {
    color: var(--primary);
    padding-left: 0.5rem;
  }

  .subcategory-list .arrow {
    opacity: 0;
    transition: opacity 0.2s ease;
  }

  .subcategory-list a:hover .arrow {
    opacity: 1;
  }

  .section-title {
    margin-bottom: 1.5rem;
    color: var(--primary-dark);
  }

  .other-treatments-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.5rem;
  }

  .other-card {
    display: flex;
    gap: 1.25rem;
    padding: 1.5rem;
    align-items: flex-start;
  }

  .other-icon {
    width: 56px;
    height: 56px;
    border-radius: 14px;
    background: linear-gradient(135deg, rgba(26, 95, 122, 0.1) 0%, rgba(26, 95, 122, 0.05) 100%);
    color: var(--primary);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }

  .other-content h3 {
    font-size: 1.1rem;
    margin: 0 0 0.5rem 0;
  }

  .other-content p {
    font-size: 0.9rem;
    color: rgb(var(--gray));
    margin: 0;
    line-height: 1.5;
  }

  .other-content .badge {
    margin-top: 0.75rem;
  }

  @media (max-width: 1024px) {
    .categories-grid {
      grid-template-columns: 1fr;
    }

    .other-treatments-grid {
      grid-template-columns: 1fr;
    }
  }
</style>
